<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cliquer pour entrer...</title>
<style>
html,body{
  height:100%;
  margin:0;
  font-family:Inter,system-ui,Arial,Helvetica;
  background:#000;
  color:#fff;
  cursor:pointer;
  overflow:hidden;
}
.center{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}
.prompt{
  font-size:28px;
  letter-spacing:1px;
  opacity:0.95;
  user-select:none;
  text-align:center;
}
.small{
  font-size:13px;
  color:#bbb;
  margin-top:10px;
}
#scareWrap{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:#000;
  z-index:9999;
  overflow:hidden;
}
#scareImg{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  filter:contrast(1.2) saturate(1.3);
  z-index:1;
}
.overlay {
  position:absolute;
  inset:0;
  pointer-events:none;
  mix-blend-mode:normal;
  opacity:0;
  z-index:2;
}
.redPulse {background:rgba(255,0,0,1);animation:rp 0.25s ease-in-out 1 forwards}
.whitePulse {background:rgba(255,255,255,1);animation:wp 0.25s ease-in-out 1 forwards}
.blackPulse {background:rgba(0,0,0,1);animation:bp 0.25s ease-in-out 1 forwards}

@keyframes rp {
  0%{opacity:0}
  10%{opacity:1}
  50%{opacity:0.9}
  100%{opacity:0}
}
@keyframes wp {
  0%{opacity:0}
  20%{opacity:1}
  60%{opacity:0.8}
  100%{opacity:0}
}
@keyframes bp {
  0%{opacity:0}
  30%{opacity:1}
  70%{opacity:0.9}
  100%{opacity:0}
}
</style>
</head>
<body>
<div class="center" id="promptArea">
  <div class="prompt" id="prompt">cliquer pour entrer...</div>
  <div class="small">mes liens — mes réseaux — mes activitées</div>
</div>

<div id="scareWrap" role="dialog" aria-hidden="true">
  <img id="scareImg" alt="scare" src="" />
  <div id="red" class="overlay"></div>
  <div id="white" class="overlay"></div>
  <div id="black" class="overlay"></div>
</div>

<script>
const gifUrl = "https://c.tenor.com/B7TsnDoMqb0AAAAd/tenor.gif"; 
const audioUrl = "https://github.com/Akakalixte/sound-for-test/raw/refs/heads/main/Scary%20Scream%20Prank!%20%5BTubeRipper.com%5D.mp3";

const flashSequence = ['white','red','black','white','red','black','white','red','black','white','red','black'];

const promptArea = document.getElementById('promptArea');
const scareWrap = document.getElementById('scareWrap');
const scareImg = document.getElementById('scareImg');
const red = document.getElementById('red');
const white = document.getElementById('white');
const black = document.getElementById('black');

promptArea.addEventListener('click', () => {
  if(document.documentElement.requestFullscreen){
    document.documentElement.requestFullscreen().catch(()=>{});
  }
  promptArea.style.display = 'none';
  scareImg.src = gifUrl;
  scareWrap.style.display = 'flex';

  const scareAudio = new Audio(audioUrl);
  scareAudio.loop = true;
  scareAudio.volume = 1.0;
  scareAudio.play().catch(()=>{});

  // flashs puissants et rapides
  let t = 0;
  for(let i = 0; i < 20; i++){ // 20 cycles de flashs
    for(let f of flashSequence){
      setTimeout(()=> triggerFlash(f), t);
      t += 100; // très rapide
    }
  }
});

function triggerFlash(type){
  let el;
  if(type === 'red') el = red;
  else if(type === 'white') el = white;
  else if(type === 'black') el = black;
  if(!el) return;
  el.style.display = 'block';
  el.classList.remove(type+'Pulse'); void el.offsetWidth;
  el.classList.add(type+'Pulse');
  setTimeout(()=> el.style.display = 'none', 250);
}
</script>
</body>
</html>
